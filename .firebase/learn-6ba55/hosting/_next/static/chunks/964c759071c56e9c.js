(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},55326,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(46932),l=e.i(88653),n=e.i(37727),r=e.i(63488);let i=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var o=e.i(84614),c=e.i(31278),d=e.i(63209),x=e.i(71689),m=e.i(19455),h=e.i(59141);e.i(51718);var u=e.i(18357);e.i(36180);var p=e.i(98925);function f({isOpen:e,onClose:f}){let[g,j]=(0,s.useState)(!0),[b,y]=(0,s.useState)(!1),[N,v]=(0,s.useState)(!1),[w,k]=(0,s.useState)(""),[C,S]=(0,s.useState)(""),[M,P]=(0,s.useState)(""),[D,A]=(0,s.useState)(""),[B,I]=(0,s.useState)("");if(!e)return null;let L=new u.GoogleAuthProvider,T=async()=>{k(""),v(!0);try{let e=(await (0,u.signInWithPopup)(h.auth,L)).user;await (0,p.setDoc)((0,p.doc)(h.db,"users",e.uid),{email:e.email,displayName:e.displayName,photoURL:e.photoURL,lastLogin:(0,p.serverTimestamp)()},{merge:!0}),f()}catch(e){console.error(e),k(e.message||"Google Sign-In failed.")}finally{v(!1)}},R=async e=>{e.preventDefault(),k(""),S(""),v(!0);try{await (0,u.sendPasswordResetEmail)(h.auth,M),S("Password reset email sent! Check your inbox.")}catch(e){console.error(e),k(e.message||"Failed to send reset email.")}finally{v(!1)}},U=async e=>{e.preventDefault(),k(""),S(""),v(!0);try{if(g)await (0,u.signInWithEmailAndPassword)(h.auth,M,D),f();else{let e=await (0,u.createUserWithEmailAndPassword)(h.auth,M,D);await (0,u.updateProfile)(e.user,{displayName:B}),await (0,p.setDoc)((0,p.doc)(h.db,"users",e.user.uid),{email:M,displayName:B,createdAt:(0,p.serverTimestamp)(),role:"user"},{merge:!0}),S("Account created! Verification email sent."),setTimeout(()=>{f()},2e3)}}catch(e){console.error(e),"auth/invalid-credential"===e.code?k("Invalid email or password."):"auth/email-already-in-use"===e.code?k((0,t.jsxs)(t.Fragment,{children:["Email in use. ",(0,t.jsx)("span",{className:"font-normal",children:"Switch to "}),(0,t.jsx)("button",{type:"button",onClick:()=>{j(!0),k("")},className:"underline font-semibold hover:text-orange-600 transition-colors",children:"Sign In?"})]})):"auth/weak-password"===e.code?k("Password should be at least 6 characters."):k(e.message||"Authentication failed.")}finally{v(!1)}};return(0,t.jsx)(l.AnimatePresence,{children:e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:f,className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm"}),(0,t.jsx)(a.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 z-[110] flex items-center justify-center p-4 pointer-events-none",children:(0,t.jsx)("div",{className:"bg-white w-full max-w-md rounded-3xl shadow-2xl pointer-events-auto overflow-hidden",children:(0,t.jsxs)("div",{className:"p-6 relative",children:[(0,t.jsx)("button",{onClick:f,className:"absolute top-4 right-4 p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-slate-600",children:(0,t.jsx)(n.X,{className:"w-5 h-5"})}),b?(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("button",{onClick:()=>{j(!0),y(!1),k(""),S("")},className:"absolute top-4 left-4 p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-slate-600",children:(0,t.jsx)(x.ArrowLeft,{className:"w-5 h-5"})}),(0,t.jsx)("h2",{className:"text-2xl font-serif font-bold text-slate-900",children:"Reset Password"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Enter your email to receive a reset link"})]}):(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-serif font-bold text-slate-900",children:g?"Welcome Back":"Create Account"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:g?"Sign in to access your bookings":"Join us to book your luxury stay"})]}),b?(0,t.jsxs)("form",{onSubmit:R,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Email Address"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(r.Mail,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{required:!0,type:"email",value:M,onChange:e=>P(e.target.value),placeholder:"john@example.com",className:"w-full pl-9 pr-4 py-3 bg-slate-50 rounded-xl text-sm font-medium text-slate-900 outline-none focus:ring-2 focus:ring-orange-500/20 focus:bg-white transition-all border border-transparent focus:border-orange-200"})]})]}),w&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-red-600 text-xs bg-red-50 p-3 rounded-lg",children:[(0,t.jsx)(d.AlertCircle,{className:"w-4 h-4 shrink-0"}),(0,t.jsx)("p",{children:w})]}),C&&(0,t.jsx)("div",{className:"flex items-center gap-2 text-green-600 text-xs bg-green-50 p-3 rounded-lg",children:(0,t.jsx)("p",{children:C})}),(0,t.jsx)(m.Button,{type:"submit",disabled:N,className:"w-full h-12 bg-slate-900 hover:bg-orange-600 text-white rounded-xl text-base shadow-lg transition-all",children:N?(0,t.jsx)(c.Loader2,{className:"w-5 h-5 animate-spin"}):"Send Reset Link"})]}):(0,t.jsxs)("form",{onSubmit:U,className:"space-y-4",children:[!g&&(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Full Name"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(o.User,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{required:!0,type:"text",value:B,onChange:e=>I(e.target.value),placeholder:"John Doe",className:"w-full pl-9 pr-4 py-3 bg-slate-50 rounded-xl text-sm font-medium text-slate-900 outline-none focus:ring-2 focus:ring-orange-500/20 focus:bg-white transition-all border border-transparent focus:border-orange-200"})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Email Address"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(r.Mail,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{required:!0,type:"email",value:M,onChange:e=>P(e.target.value),placeholder:"john@example.com",className:"w-full pl-9 pr-4 py-3 bg-slate-50 rounded-xl text-sm font-medium text-slate-900 outline-none focus:ring-2 focus:ring-orange-500/20 focus:bg-white transition-all border border-transparent focus:border-orange-200"})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(i,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{required:!0,type:"password",value:D,onChange:e=>A(e.target.value),placeholder:"••••••••",className:"w-full pl-9 pr-4 py-3 bg-slate-50 rounded-xl text-sm font-medium text-slate-900 outline-none focus:ring-2 focus:ring-orange-500/20 focus:bg-white transition-all border border-transparent focus:border-orange-200"})]})]}),g&&(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{type:"button",onClick:()=>y(!0),className:"text-xs font-medium text-slate-500 hover:text-orange-600 transition-colors",children:"Forgot Password?"})}),w&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-red-600 text-xs bg-red-50 p-3 rounded-lg",children:[(0,t.jsx)(d.AlertCircle,{className:"w-4 h-4 shrink-0"}),(0,t.jsx)("p",{children:w})]}),C&&(0,t.jsx)("div",{className:"flex items-center gap-2 text-green-600 text-xs bg-green-50 p-3 rounded-lg",children:(0,t.jsx)("p",{children:C})}),(0,t.jsx)(m.Button,{type:"submit",disabled:N,className:"w-full h-12 bg-slate-900 hover:bg-orange-600 text-white rounded-xl text-base shadow-lg transition-all",children:N?(0,t.jsx)(c.Loader2,{className:"w-5 h-5 animate-spin"}):g?"Sign In":"Create Account"}),(0,t.jsxs)("div",{className:"relative flex items-center gap-4 my-4",children:[(0,t.jsx)("div",{className:"h-px bg-slate-200 flex-1"}),(0,t.jsx)("span",{className:"text-xs text-slate-400 font-medium uppercase",children:"Or"}),(0,t.jsx)("div",{className:"h-px bg-slate-200 flex-1"})]}),(0,t.jsxs)("button",{type:"button",onClick:T,disabled:N,className:"w-full h-12 bg-white border border-slate-200 hover:bg-slate-50 text-slate-700 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[(0,t.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,t.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,t.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),(0,t.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),!b&&(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsxs)("p",{className:"text-slate-500 text-sm",children:[g?"Don't have an account?":"Already have an account?"," ",(0,t.jsx)("button",{onClick:()=>j(!g),className:"text-orange-600 font-bold hover:underline",children:g?"Sign Up":"Sign In"})]})})]})})})]})})}e.s(["AuthModal",()=>f],55326)},63364,e=>{"use strict";var t=e.i(47167),s=e.i(43476),a=e.i(71645),l=e.i(46932),n=e.i(88653),r=e.i(37727),i=e.i(87316),o=e.i(84614),c=e.i(43432),d=e.i(61911),x=e.i(99023),m=e.i(7233),h=e.i(31278),u=e.i(69638),p=e.i(72520),f=e.i(40160);e.i(66459);var g=e.i(19455),j=e.i(59141);e.i(36180);var b=e.i(98925),y=e.i(32341),N=e.i(55326),v=e.i(37822),w=e.i(27766),k=e.i(45919),C=e.i(75157);function S({room:e,isOpen:S,onClose:M}){let{user:P}=(0,y.useAuth)(),[D,A]=(0,a.useState)(!1),[B,I]=(0,a.useState)(void 0),[L,T]=(0,a.useState)(void 0),[R,U]=(0,a.useState)(1),[E,F]=(0,a.useState)(0),[q,z]=(0,a.useState)(1),[O,H]=(0,a.useState)(""),[G,$]=(0,a.useState)(""),[V,_]=(0,a.useState)(0),[W,K]=(0,a.useState)({}),[J,X]=(0,a.useState)(10),[Y,Q]=(0,a.useState)(1),[Z,ee]=(0,a.useState)("upi"),[et,es]=(0,a.useState)("advance"),[ea,el]=(0,a.useState)(null),[en,er]=(0,a.useState)(null),[ei,eo]=(0,a.useState)(!1),[ec,ed]=(0,a.useState)(!1),[ex,em]=(0,a.useState)(""),[eh,eu]=(0,a.useState)(""),[ep,ef]=(0,a.useState)(!1);(0,a.useRef)(null),(0,a.useEffect)(()=>{S&&(Q(1),eu(""),em(""),ef(!1),ee("upi"),es("advance"),el(null),er(null))},[S]),(0,a.useEffect)(()=>{S&&e&&(async()=>{try{let t=e.totalStock||10;X(t);let s=await (0,b.getDocs)((0,b.collection)(j.db,"rooms",e.id.toString(),"availability")),a={};s.forEach(e=>{a[e.id]=e.data().bookedCount||0}),K(a)}catch(e){console.error("Error fetching room availability:",e)}})()},[S,e]),(0,a.useEffect)(()=>{if(B&&L){let e=Math.ceil(Math.abs(L.getTime()-B.getTime())/864e5);_(e>0?e:0)}else _(0)},[B,L]);let eg=e=>{let t=e?R+1:Math.max(1,R-1);U(t);let s=Math.ceil(t/3);q<s&&z(s)},ej=e=>parseInt(e.replace(/[^0-9]/g,""))||0,eb=e?ej(e.price):0,ey=eb*q*(V||1),eN=0,ev=Math.round(ey*(eN=eb<=1e3?0:eb<=7500?.12:.18)),ew=ey+ev,ek=Math.round(.2*ew),eC="full"===et?ew:ek,eS=ew-eC;if(!S||!e)return null;let eM=async()=>{if(!ea)return void em("Please upload the payment screenshot.");ed(!0),eo(!0);try{let s,a,l=new FormData;l.append("image",ea);let n=t.default.env.NEXT_PUBLIC_IMGBB_API_KEY||"87ac08b1fe96f1eec8ec5a764548dd56",r=await fetch(`https://api.imgbb.com/1/upload?key=${n}`,{method:"POST",body:l}),i=await r.json();if(!i.success)throw Error("Failed to upload screenshot: "+(i.error?.message||"Unknown error"));let o=i.data.url;eo(!1);let c=(s="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",a=Array.from({length:6},()=>s[Math.floor(Math.random()*s.length)]).join(""),`BK-${a}`);if(await new Promise(e=>setTimeout(e,2e3)),P){let e=(0,b.doc)(j.db,"users",P.uid);await (0,b.setDoc)(e,{email:P.email,lastBookingAt:(0,b.serverTimestamp)(),bookingsCount:(0,b.increment)(1),totalSpend:(0,b.increment)(ew)},{merge:!0})}if(await (0,b.setDoc)((0,b.doc)(j.db,"bookings",c),{bookingId:c,userId:P?.uid,userEmail:P?.email,guest:{userId:P?.uid,name:O,email:P?.email,phone:G},stay:{checkIn:B?(0,k.format)(B,"yyyy-MM-dd"):"",checkOut:L?(0,k.format)(L,"yyyy-MM-dd"):"",totalNights:V||1,adults:R,children:E,roomsCount:q},room:{id:e.id,name:e.name,image:e.image,basePricePerNight:ej(e.price)},payment:{method:"upi_qr_manual",baseAmount:ey,taxAmount:ev,totalAmount:ew,advanceAmount:ek,paidAmount:eC,pendingAmount:eS,paymentType:et,currency:"INR",status:"verification_pending",screenshotUrl:o},status:"pending",createdAt:(0,b.serverTimestamp)()}),e&&e.id&&B&&L){let t=((e,t)=>{let s=new Date(e.getTime()),a=[];for(;s<t;)a.push((0,k.format)(s,"yyyy-MM-dd")),s.setDate(s.getDate()+1);return a})(B,L).map(t=>{let s=(0,b.doc)(j.db,"rooms",e.id.toString(),"availability",t);return(0,b.setDoc)(s,{bookedCount:(0,b.increment)(q)},{merge:!0})});await Promise.all(t)}eu(c),Q(3)}catch(e){console.error("Error adding booking: ",e),em("Payment failed. Please try again. "+(e.message||""))}finally{ed(!1),eo(!1)}};return(0,s.jsx)(n.AnimatePresence,{children:S&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:3===Y?M:void 0,className:"fixed inset-0 z-[60] bg-black/60 backdrop-blur-sm"}),(0,s.jsx)(l.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-[60] flex items-center justify-center p-4 pointer-events-none",children:(0,s.jsxs)("div",{className:"bg-white w-full max-w-lg rounded-3xl shadow-2xl pointer-events-auto overflow-hidden max-h-[90vh] flex flex-col",children:[3!==Y&&(0,s.jsxs)("div",{className:"bg-slate-900 p-6 flex items-start justify-between shrink-0",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-serif font-bold text-white mb-1",children:1===Y?"Confirm Details":"Payment"}),(0,s.jsx)("p",{className:"text-slate-400 text-sm",children:1===Y?"Step 1 of 2":""})]}),(0,s.jsx)("button",{onClick:M,className:"p-2 bg-white/10 hover:bg-white/20 rounded-full text-white transition-colors",children:(0,s.jsx)(r.X,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:[1===Y&&(0,s.jsxs)("form",{id:"booking-form",onSubmit:e=>{if(e.preventDefault(),em(""),!P)return void A(!0);if(1===Y){if(!B||!L||!O||!G)return void em("Please fill in all details");if(B&&L){let e=new Date(B),t=new Date(L),s=new Date(e);for(;s<t;){let e=Math.max(0,J-(W[(0,k.format)(s,"yyyy-MM-dd")]||0));if(e<q)return void em(`Only ${e} room${1!==e?"s":""} available on ${(0,k.format)(s,"dd MMM yyyy")}. You requested ${q}.`);s.setDate(s.getDate()+1)}}Q(2)}else 2===Y&&eM()},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-1.5 ",children:[(0,s.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Check In"}),(0,s.jsxs)(v.Popover,{children:[(0,s.jsx)(v.PopoverTrigger,{asChild:!0,children:(0,s.jsxs)("button",{className:(0,C.cn)("w-full pl-9 pr-4 py-2.5 bg-slate-50 rounded-xl text-sm font-medium outline-none text-left flex items-center gap-2 relative",!B&&"text-slate-500"),children:[(0,s.jsx)(i.Calendar,{className:"w-4 h-4 text-slate-400 absolute left-3"}),(0,s.jsx)("span",{className:"ml-5",children:B?(0,k.format)(B,"dd MMM yyyy"):"Select Date"})]})}),(0,s.jsx)(v.PopoverContent,{className:"w-auto p-0 z-[70]",align:"start",children:(0,s.jsx)(w.Calendar,{mode:"single",selected:B,onSelect:I,disabled:e=>{let t=e<new Date(new Date().setHours(0,0,0,0)),s=J-(W[(0,k.format)(e,"yyyy-MM-dd")]||0)<=0;return t||s},formatters:{formatDay:e=>{let t=Math.max(0,J-(W[(0,k.format)(e,"yyyy-MM-dd")]||0)),a=e<new Date(new Date().setHours(0,0,0,0));return a?(0,s.jsx)("div",{className:"opacity-50",children:e.getDate()}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center relative py-1",children:[(0,s.jsx)("span",{children:e.getDate()}),!a&&(0,s.jsx)("span",{className:(0,C.cn)("text-[9px] font-bold leading-none mt-0.5 whitespace-nowrap",0===t?"text-red-500 line-through":"text-green-600"),children:0===t?"Full":`${t} left`})]})}}})})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Check Out"}),(0,s.jsxs)(v.Popover,{children:[(0,s.jsx)(v.PopoverTrigger,{asChild:!0,children:(0,s.jsxs)("button",{className:(0,C.cn)("w-full pl-9 pr-4 py-2.5 bg-slate-50 rounded-xl text-sm font-medium outline-none text-left flex items-center gap-2 relative",!L&&"text-slate-500"),children:[(0,s.jsx)(i.Calendar,{className:"w-4 h-4 text-slate-400 absolute left-3"}),(0,s.jsx)("span",{className:"ml-5",children:L?(0,k.format)(L,"dd MMM yyyy"):"Select Date"})]})}),(0,s.jsx)(v.PopoverContent,{className:"w-auto p-0 z-[70]",align:"start",children:(0,s.jsx)(w.Calendar,{mode:"single",selected:L,onSelect:T,disabled:e=>{let t=e<(B||new Date(new Date().setHours(0,0,0,0))),s=J-(W[(0,k.format)(e,"yyyy-MM-dd")]||0)<=0;return t||s},formatters:{formatDay:e=>{let t=Math.max(0,J-(W[(0,k.format)(e,"yyyy-MM-dd")]||0)),a=e<new Date(new Date().setHours(0,0,0,0));return a?(0,s.jsx)("div",{className:"opacity-50",children:e.getDate()}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center relative py-1",children:[(0,s.jsx)("span",{children:e.getDate()}),!a&&(0,s.jsx)("span",{className:(0,C.cn)("text-[9px] font-bold leading-none mt-0.5 whitespace-nowrap",0===t?"text-red-500":"text-green-600"),children:0===t?"Full":`${t} left`})]})}}})})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-500 px-1",children:[(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("span",{children:["Check-in: ",(0,s.jsx)("strong",{className:"text-slate-900",children:"12:00 PM"})]}),(0,s.jsxs)("span",{children:["Check-out: ",(0,s.jsx)("strong",{className:"text-slate-900",children:"11:00 AM"})]})]}),V>0&&(0,s.jsxs)("span",{className:"bg-orange-50 text-orange-700 px-2 py-0.5 rounded-full font-bold",children:[V," Night",V>1?"s":""]})]}),(0,s.jsxs)("div",{className:"space-y-3 bg-slate-50 p-4 rounded-xl",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-white flex items-center justify-center text-slate-600 shadow-sm",children:(0,s.jsx)(d.Users,{className:"w-4 h-4"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-bold text-slate-900",children:"Adults"}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"Max 3 per room"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 bg-white px-2 py-1 rounded-lg border border-slate-200",children:[(0,s.jsx)("button",{type:"button",onClick:()=>eg(!1),className:"w-6 h-6 flex items-center justify-center text-slate-400 hover:text-slate-600",children:(0,s.jsx)(x.Minus,{className:"w-3 h-3"})}),(0,s.jsx)("span",{className:"text-sm font-bold w-4 text-center",children:R}),(0,s.jsx)("button",{type:"button",onClick:()=>eg(!0),className:"w-6 h-6 flex items-center justify-center text-slate-400 hover:text-slate-600",children:(0,s.jsx)(m.Plus,{className:"w-3 h-3"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-white flex items-center justify-center text-slate-600 shadow-sm",children:(0,s.jsx)(d.Users,{className:"w-4 h-4"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-bold text-slate-900",children:"Children"}),(0,s.jsx)("p",{className:"text-xs text-orange-600",children:"Under 5 years allowed"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 bg-white px-2 py-1 rounded-lg border border-slate-200",children:[(0,s.jsx)("button",{type:"button",onClick:()=>F(Math.max(0,E-1)),className:"w-6 h-6 flex items-center justify-center text-slate-400 hover:text-slate-600",children:(0,s.jsx)(x.Minus,{className:"w-3 h-3"})}),(0,s.jsx)("span",{className:"text-sm font-bold w-4 text-center",children:E}),(0,s.jsx)("button",{type:"button",onClick:()=>F(E+1),className:"w-6 h-6 flex items-center justify-center text-slate-400 hover:text-slate-600",children:(0,s.jsx)(m.Plus,{className:"w-3 h-3"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-slate-200/60",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-bold text-slate-900",children:"Rooms"}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"Auto-adjusted based on adults"})]})}),(0,s.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 bg-white px-2 py-1 rounded-lg border border-slate-200",children:[(0,s.jsx)("button",{type:"button",onClick:()=>z(Math.max(1,q-1)),className:"w-6 h-6 flex items-center justify-center text-slate-400 hover:text-slate-600",children:(0,s.jsx)(x.Minus,{className:"w-3 h-3"})}),(0,s.jsx)("span",{className:"text-sm font-bold w-4 text-center",children:q}),(0,s.jsx)("button",{type:"button",onClick:()=>z(q+1),className:"w-6 h-6 flex items-center justify-center text-slate-400 hover:text-slate-600",children:(0,s.jsx)(m.Plus,{className:"w-3 h-3"})})]}),(()=>{if(B&&L){let e=J,t=new Date(B),a=new Date(L);for(;t<a;)e=Math.min(e,Math.max(0,J-(W[(0,k.format)(t,"yyyy-MM-dd")]||0))),t.setDate(t.getDate()+1);if(q>e)return(0,s.jsxs)("span",{className:"text-[10px] text-red-500 font-bold",children:["Only ",e," available"]})}return null})()]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Full Name"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(o.User,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,s.jsx)("input",{type:"text",required:!0,placeholder:"Enter your full name",value:O,onChange:e=>H(e.target.value),className:"w-full pl-9 pr-4 py-3 bg-slate-50 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-orange-500/20"})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Phone Number"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(c.Phone,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,s.jsx)("input",{type:"tel",required:!0,placeholder:"+91 98765 43210",value:G,onChange:e=>$(e.target.value),className:"w-full pl-9 pr-4 py-3 bg-slate-50 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-orange-500/20"})]})]})]}),(0,s.jsxs)("div",{className:"bg-orange-50 border border-orange-100 rounded-xl p-4",children:[(0,s.jsx)("h4",{className:"text-xs font-bold text-orange-800 uppercase mb-2",children:"Important Requirements:"}),(0,s.jsxs)("ul",{className:"space-y-1",children:[(0,s.jsxs)("li",{className:"flex items-start gap-2 text-xs text-orange-900/80",children:[(0,s.jsx)("span",{className:"w-1 h-1 rounded-full bg-orange-600 mt-1.5"}),"Indian Nationals Only."]}),(0,s.jsxs)("li",{className:"flex items-start gap-2 text-xs text-orange-900/80",children:[(0,s.jsx)("span",{className:"w-1 h-1 rounded-full bg-orange-600 mt-1.5"}),"Valid Govt ID required. ",(0,s.jsx)("span",{className:"font-bold",children:"PAN Card not accepted."})]})]})]}),(0,s.jsxs)("div",{className:"bg-slate-50 p-4 rounded-xl space-y-3",children:[(0,s.jsx)("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Payment Details"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between text-slate-600",children:[(0,s.jsxs)("span",{children:["Room Charges (",q," Room x ",V||1," Night)"]}),(0,s.jsxs)("span",{children:["₹",ey.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-slate-600",children:[(0,s.jsxs)("span",{children:["GST (",100*eN,"%)"]}),(0,s.jsxs)("span",{children:["₹",ev.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"pt-2 border-t border-slate-200 flex justify-between font-bold text-slate-900 text-base",children:[(0,s.jsx)("span",{children:"Total Amount"}),(0,s.jsxs)("span",{children:["₹",ew.toLocaleString()]})]})]})]})]}),2===Y&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-slate-50 p-1 rounded-xl flex",children:[(0,s.jsx)("button",{onClick:()=>es("advance"),className:(0,C.cn)("flex-1 py-3 px-4 rounded-lg text-sm font-bold transition-all","advance"===et?"bg-white text-orange-600 shadow-sm":"text-slate-500 hover:text-slate-700"),children:"Pay Advance (20%)"}),(0,s.jsx)("button",{onClick:()=>es("full"),className:(0,C.cn)("flex-1 py-3 px-4 rounded-lg text-sm font-bold transition-all","full"===et?"bg-white text-orange-600 shadow-sm":"text-slate-500 hover:text-slate-700"),children:"Pay Full Amount"})]}),(0,s.jsxs)("div",{className:"bg-orange-50 p-5 rounded-2xl border border-orange-100 flex flex-col items-center text-center space-y-4",children:[(0,s.jsx)("h3",{className:"font-bold text-orange-900 text-lg",children:"Scan to Pay"}),(0,s.jsxs)("p",{className:"text-sm text-orange-700",children:["Please pay ",(0,s.jsxs)("strong",{className:"text-xl",children:["₹",eC.toLocaleString()]})," to confirm."]}),(0,s.jsx)("div",{className:"bg-white p-3 rounded-xl shadow-sm border border-orange-100",children:(0,s.jsx)("img",{src:"/payment-qr.jpg",alt:"Payment QR Code",className:"w-48 h-48 object-contain"})}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-wider",children:"UPI ID"}),(0,s.jsx)("div",{className:"flex items-center gap-2 bg-white px-3 py-1.5 rounded-lg border border-orange-200",children:(0,s.jsx)("span",{className:"font-mono text-slate-900 font-bold",children:"8104787882@ybl"})})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-slate-50 p-4 rounded-xl space-y-3",children:[(0,s.jsx)("h3",{className:"font-bold text-slate-900 text-sm uppercase tracking-wider",children:"Payment Breakdown"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between text-slate-600",children:[(0,s.jsx)("span",{children:"Total Booking Value"}),(0,s.jsxs)("span",{children:["₹",ew.toLocaleString()]})]}),"advance"===et?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex justify-between text-orange-600 font-bold bg-orange-50/50 p-2 rounded-lg",children:[(0,s.jsx)("span",{children:"Advance Payable (20%)"}),(0,s.jsxs)("span",{children:["₹",ek.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-slate-500 text-xs px-2",children:[(0,s.jsx)("span",{children:"Balance Due at Hotel"}),(0,s.jsxs)("span",{children:["₹",eS.toLocaleString()]})]})]}):(0,s.jsxs)("div",{className:"flex justify-between text-green-600 font-bold bg-green-50/50 p-2 rounded-lg",children:[(0,s.jsx)("span",{children:"Full Payment"}),(0,s.jsxs)("span",{children:["₹",ew.toLocaleString()]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-sm font-bold text-slate-900",children:["Upload Payment Screenshot ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"border-2 border-dashed border-slate-300 rounded-xl p-4 text-center hover:bg-slate-50 transition-colors relative",children:[(0,s.jsx)("input",{type:"file",accept:"image/*",required:!0,onChange:e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0];el(t),er(URL.createObjectURL(t))}},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),en?(0,s.jsxs)("div",{className:"relative w-full h-40 rounded-lg overflow-hidden",children:[(0,s.jsx)("img",{src:en,alt:"Preview",className:"w-full h-full object-contain"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center text-white text-xs opacity-0 hover:opacity-100 transition-opacity",children:"Click to change"})]}):(0,s.jsxs)("div",{className:"space-y-2 py-4 pointer-events-none",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center mx-auto text-slate-400",children:(0,s.jsx)(f.Download,{className:"w-5 h-5 rotate-180"})}),(0,s.jsxs)("div",{className:"text-xs text-slate-500",children:[(0,s.jsx)("span",{className:"font-bold text-orange-600",children:"Click to upload"})," or drag and drop",(0,s.jsx)("br",{})," JPG, PNG (Max 5MB)"]})]})]}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"Required for payment verification."})]})]}),(0,s.jsx)(g.Button,{onClick:eM,disabled:ec,className:"w-full bg-orange-600 hover:bg-orange-700 text-white h-14 rounded-xl text-lg font-bold shadow-lg shadow-orange-600/20 transition-all",children:ec?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.Loader2,{className:"w-5 h-5 mr-2 animate-spin"}),ei?"Uploading Proof...":"Processing Booking..."]}):"Submit & Request Booking"}),(0,s.jsx)("button",{type:"button",onClick:()=>Q(1),className:"w-full text-center text-slate-500 text-sm hover:text-slate-800 mt-4 font-medium",children:"Back to Details"})]}),3===Y&&(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)(u.CheckCircle,{className:"w-10 h-10 text-orange-600"})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Booking Request Sent"}),(0,s.jsxs)("p",{className:"text-slate-600 mb-8 max-w-xs mx-auto",children:["Your booking request ID is ",(0,s.jsx)("span",{className:"font-mono font-bold text-slate-900",children:eh}),". ",(0,s.jsx)("br",{}),"We will verify your payment and confirm your booking shortly."]}),(0,s.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4 mb-8 text-sm text-left mx-4 border border-slate-100",children:[(0,s.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-slate-500",children:"Status"}),(0,s.jsx)("span",{className:"font-bold text-orange-600 bg-orange-50 px-2 py-0.5 rounded-md",children:"Verification Pending"})]}),(0,s.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,s.jsxs)("span",{className:"text-slate-500",children:["Paid Amount (","full"===et?"Full":"Partial",")"]}),(0,s.jsxs)("span",{className:"font-bold text-slate-900",children:["₹",eC.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-slate-500",children:"Payment Proof"}),(0,s.jsx)("span",{className:"font-mono font-bold text-green-600 text-xs",children:"Screenshot Uploaded"})]})]}),(0,s.jsx)(g.Button,{onClick:M,className:"w-full bg-slate-900 hover:bg-slate-800 text-white h-12 rounded-xl text-base font-bold transition-all",children:"Close & Check Status Later"})]}),ex&&(0,s.jsx)("div",{className:"bg-red-50 text-red-600 text-sm p-3 rounded-lg mt-4",children:ex})]}),1===Y&&(0,s.jsx)("div",{className:"p-6 border-t border-slate-100 bg-slate-50 mt-auto",children:(0,s.jsx)(g.Button,{form:"booking-form",type:"submit",disabled:ec||(()=>{if(1===Y&&B&&L){let e=new Date(B),t=new Date(L),s=new Date(e);for(;s<t;){if(Math.max(0,J-(W[(0,k.format)(s,"yyyy-MM-dd")]||0))<q)return!0;s.setDate(s.getDate()+1)}}return!1})(),className:"w-full bg-slate-900 hover:bg-orange-600 text-white h-12 rounded-xl text-base font-bold shadow-lg shadow-slate-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:ec?(0,s.jsx)(h.Loader2,{className:"w-5 h-5 animate-spin"}):(0,s.jsxs)(s.Fragment,{children:["Proceed to Payment ",(0,s.jsx)(p.ArrowRight,{className:"w-5 h-5 ml-2"})]})})})]})}),(0,s.jsx)(N.AuthModal,{isOpen:D,onClose:()=>A(!1)})]})})}e.s(["BookingModal",()=>S])},8238,e=>{e.n(e.i(63364))}]);