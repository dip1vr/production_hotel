(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,61911,e=>{"use strict";let t=(0,e.i(75254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Users",()=>t],61911)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},43419,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(46932),l=e.i(88653),r=e.i(61911),i=e.i(87316),n=e.i(55436),c=e.i(99023),d=e.i(7233),o=e.i(19455),x=e.i(37822),h=e.i(27766),m=e.i(45919),u=e.i(75157);e.i(36180);var f=e.i(98925),p=e.i(59141);function b({onSearch:e}){let[b,j]=(0,s.useState)(void 0),[y,g]=(0,s.useState)(void 0),[w,v]=(0,s.useState)(1),[N,k]=(0,s.useState)(0),[M,C]=(0,s.useState)(1),[D,S]=(0,s.useState)(!1),[P,A]=(0,s.useState)({}),[B,T]=(0,s.useState)(0);(0,s.useEffect)(()=>{(async()=>{try{let e=await (0,f.getDocs)((0,f.collection)(p.db,"rooms")),t=0,s=[];e.forEach(e=>{let a=e.data();t+=a.totalStock||10,s.push(e.id)}),T(t);let a={};await Promise.all(s.map(async e=>{(await (0,f.getDocs)((0,f.collection)(p.db,"rooms",e,"availability"))).forEach(e=>{let t=e.id,s=e.data().bookedCount||0;a[t]=(a[t]||0)+s})})),A(a)}catch(e){console.error("Error fetching global availability:",e)}})()},[]);let R=e=>{let t=w+e;if(t>=1){v(t);let e=Math.ceil(t/3);M<e&&C(e)}},E=e=>{let t=M+e;t>=Math.ceil(w/3)&&t<=10&&C(t)},H=e=>{let s=Math.max(0,B-(P[(0,m.format)(e,"yyyy-MM-dd")]||0)),a=e<new Date(new Date().setHours(0,0,0,0));return a?(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center opacity-50",children:e.getDate()}):(0,t.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center relative py-1",children:[(0,t.jsx)("span",{children:e.getDate()}),!a&&(0,t.jsx)("span",{className:(0,u.cn)("text-[9px] font-bold leading-none mt-0.5 whitespace-nowrap",0===s?"text-red-500":"text-green-600"),children:0===s?"Full":`${s} left`})]})};return(0,t.jsx)(a.motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"w-full max-w-5xl mx-auto -mt-10 relative z-40 px-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-3 md:p-4 grid grid-cols-1 md:grid-cols-12 gap-2 md:gap-4 items-center border border-slate-100/50 backdrop-blur-sm bg-white/95",children:[(0,t.jsx)("div",{className:"md:col-span-3",children:(0,t.jsxs)(x.Popover,{children:[(0,t.jsx)(x.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)("button",{className:(0,u.cn)("flex items-center gap-4 bg-slate-50 hover:bg-slate-100 transition-all rounded-2xl p-3 w-full text-left border border-transparent hover:border-slate-200",!b&&"text-slate-500"),children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-orange-600 shadow-sm shrink-0",children:(0,t.jsx)(i.Calendar,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-0.5",children:"Check In"}),(0,t.jsx)("p",{className:"font-serif text-lg text-slate-900 font-medium truncate",children:b?(0,m.format)(b,"dd MMM yyyy"):"Add Dates"})]})]})}),(0,t.jsx)(x.PopoverContent,{className:"w-auto p-0",align:"start",children:(0,t.jsx)(h.Calendar,{mode:"single",selected:b,onSelect:j,disabled:e=>e<new Date(new Date().setHours(0,0,0,0)),formatters:{formatDay:e=>H(e)}})})]})}),(0,t.jsx)("div",{className:"md:col-span-3",children:(0,t.jsxs)(x.Popover,{children:[(0,t.jsx)(x.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)("button",{className:(0,u.cn)("flex items-center gap-4 bg-slate-50 hover:bg-slate-100 transition-all rounded-2xl p-3 w-full text-left border border-transparent hover:border-slate-200",!y&&"text-slate-500"),children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-orange-600 shadow-sm shrink-0",children:(0,t.jsx)(i.Calendar,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-0.5",children:"Check Out"}),(0,t.jsx)("p",{className:"font-serif text-lg text-slate-900 font-medium truncate",children:y?(0,m.format)(y,"dd MMM yyyy"):"Add Dates"})]})]})}),(0,t.jsx)(x.PopoverContent,{className:"w-auto p-0",align:"start",children:(0,t.jsx)(h.Calendar,{mode:"single",selected:y,onSelect:g,disabled:e=>e<(b||new Date(new Date().setHours(0,0,0,0))),formatters:{formatDay:e=>H(e)}})})]})}),(0,t.jsxs)("div",{className:"md:col-span-4 relative",children:[(0,t.jsxs)("button",{onClick:()=>S(!D),className:"flex items-center gap-4 bg-slate-50 hover:bg-slate-100 transition-all rounded-2xl p-3 w-full text-left border border-transparent hover:border-slate-200",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-orange-600 shadow-sm shrink-0",children:(0,t.jsx)(r.Users,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-0.5",children:"Guests & Rooms"}),(0,t.jsx)("div",{className:"flex items-center gap-1 font-serif text-lg text-slate-900 font-medium truncate",children:(0,t.jsxs)("span",{children:[w," Adult, ",M," Room"]})})]})]}),(0,t.jsx)(l.AnimatePresence,{children:D&&(0,t.jsxs)(a.motion.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-2xl shadow-xl border border-slate-100 p-4 z-50",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-slate-900",children:"Adults"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Ages 13 or above"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>R(-1),className:"w-8 h-8 rounded-full border border-slate-200 flex items-center justify-center text-slate-600 hover:bg-slate-50 disabled:opacity-50",disabled:w<=1,children:(0,t.jsx)(c.Minus,{className:"w-3 h-3"})}),(0,t.jsx)("span",{className:"w-4 text-center font-medium",children:w}),(0,t.jsx)("button",{onClick:()=>R(1),className:"w-8 h-8 rounded-full border border-slate-200 flex items-center justify-center text-slate-600 hover:bg-slate-50",children:(0,t.jsx)(d.Plus,{className:"w-3 h-3"})})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-slate-50",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-slate-900",children:"Rooms"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Max 3 guests/room"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>E(-1),className:"w-8 h-8 rounded-full border border-slate-200 flex items-center justify-center text-slate-600 hover:bg-slate-50 disabled:opacity-50",disabled:M<=1,children:(0,t.jsx)(c.Minus,{className:"w-3 h-3"})}),(0,t.jsx)("span",{className:"w-4 text-center font-medium",children:M}),(0,t.jsx)("button",{onClick:()=>E(1),className:"w-8 h-8 rounded-full border border-slate-200 flex items-center justify-center text-slate-600 hover:bg-slate-50",children:(0,t.jsx)(d.Plus,{className:"w-3 h-3"})})]})]}),(0,t.jsx)("button",{onClick:()=>S(!1),className:"w-full mt-4 bg-slate-900 text-white py-2 rounded-xl font-medium text-sm hover:bg-slate-800",children:"Done"})]})})]}),(0,t.jsx)("div",{className:"md:col-span-2",children:(0,t.jsxs)(o.Button,{onClick:()=>{e&&b&&y&&e({checkIn:(0,m.format)(b,"yyyy-MM-dd"),checkOut:(0,m.format)(y,"yyyy-MM-dd"),adults:w,children:N,rooms:M})},className:"w-full h-14 md:h-16 rounded-2xl bg-slate-950 hover:bg-slate-800 text-white shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-2 group",children:[(0,t.jsx)(n.Search,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),(0,t.jsx)("span",{className:"font-medium text-lg",children:"Book Now"})]})})]})})}e.s(["BookingBar",()=>b])},99740,e=>{e.n(e.i(43419))}]);