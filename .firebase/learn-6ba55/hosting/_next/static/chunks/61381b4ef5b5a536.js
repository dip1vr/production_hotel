(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},55326,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(46932),l=e.i(88653),r=e.i(37727),n=e.i(63488);let i=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var o=e.i(84614),c=e.i(31278),d=e.i(63209),h=e.i(19455),u=e.i(59141);e.i(51718);var m=e.i(18357);function x({isOpen:e,onClose:x}){let[f,p]=(0,s.useState)(!0),[g,y]=(0,s.useState)(!1),[b,w]=(0,s.useState)(""),[j,N]=(0,s.useState)(""),[v,k]=(0,s.useState)(""),[C,S]=(0,s.useState)("");if(!e)return null;let M=async e=>{e.preventDefault(),w(""),y(!0);try{if(f)await (0,m.signInWithEmailAndPassword)(u.auth,j,v);else{let e=await (0,m.createUserWithEmailAndPassword)(u.auth,j,v);await (0,m.updateProfile)(e.user,{displayName:C})}x()}catch(e){console.error(e),"auth/invalid-credential"===e.code?w("Invalid email or password."):"auth/email-already-in-use"===e.code?w("Email is already in use."):"auth/weak-password"===e.code?w("Password should be at least 6 characters."):w(e.message||"Authentication failed.")}finally{y(!1)}};return(0,t.jsx)(l.AnimatePresence,{children:e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:x,className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm"}),(0,t.jsx)(a.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 z-[110] flex items-center justify-center p-4 pointer-events-none",children:(0,t.jsx)("div",{className:"bg-white w-full max-w-md rounded-3xl shadow-2xl pointer-events-auto overflow-hidden",children:(0,t.jsxs)("div",{className:"p-6 relative",children:[(0,t.jsx)("button",{onClick:x,className:"absolute top-4 right-4 p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-slate-600",children:(0,t.jsx)(r.X,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-serif font-bold text-slate-900",children:f?"Welcome Back":"Create Account"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:f?"Sign in to access your bookings":"Join us to book your luxury stay"})]}),(0,t.jsxs)("form",{onSubmit:M,className:"space-y-4",children:[!f&&(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Full Name"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(o.User,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{required:!0,type:"text",value:C,onChange:e=>S(e.target.value),placeholder:"John Doe",className:"w-full pl-9 pr-4 py-3 bg-slate-50 rounded-xl text-sm font-medium text-slate-900 outline-none focus:ring-2 focus:ring-orange-500/20 focus:bg-white transition-all border border-transparent focus:border-orange-200"})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Email Address"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n.Mail,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{required:!0,type:"email",value:j,onChange:e=>N(e.target.value),placeholder:"john@example.com",className:"w-full pl-9 pr-4 py-3 bg-slate-50 rounded-xl text-sm font-medium text-slate-900 outline-none focus:ring-2 focus:ring-orange-500/20 focus:bg-white transition-all border border-transparent focus:border-orange-200"})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(i,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{required:!0,type:"password",value:v,onChange:e=>k(e.target.value),placeholder:"••••••••",className:"w-full pl-9 pr-4 py-3 bg-slate-50 rounded-xl text-sm font-medium text-slate-900 outline-none focus:ring-2 focus:ring-orange-500/20 focus:bg-white transition-all border border-transparent focus:border-orange-200"})]})]}),b&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-red-600 text-xs bg-red-50 p-3 rounded-lg",children:[(0,t.jsx)(d.AlertCircle,{className:"w-4 h-4 shrink-0"}),(0,t.jsx)("p",{children:b})]}),(0,t.jsx)(h.Button,{type:"submit",disabled:g,className:"w-full h-12 bg-slate-900 hover:bg-orange-600 text-white rounded-xl text-base shadow-lg transition-all",children:g?(0,t.jsx)(c.Loader2,{className:"w-5 h-5 animate-spin"}):f?"Sign In":"Create Account"})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsxs)("p",{className:"text-slate-500 text-sm",children:[f?"Don't have an account?":"Already have an account?"," ",(0,t.jsx)("button",{onClick:()=>p(!f),className:"text-orange-600 font-bold hover:underline",children:f?"Sign Up":"Sign In"})]})})]})})})]})})}e.s(["AuthModal",()=>x],55326)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},61911,e=>{"use strict";let t=(0,e.i(75254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Users",()=>t],61911)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},40160,66459,e=>{"use strict";let t,s=(0,e.i(75254).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>s],40160);var a=e.i(47167);let l=(t=0,()=>(t+=1,`u${`0000${(1679616*Math.random()|0).toString(36)}`.slice(-4)}${t}`));function r(e){let t=[];for(let s=0,a=e.length;s<a;s++)t.push(e[s]);return t}let n=null;function i(e={}){return n||(n=e.includeStyleProperties?e.includeStyleProperties:r(window.getComputedStyle(document.documentElement)))}function o(e,t){let s=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return s?parseFloat(s.replace("px","")):0}function c(e,t={}){let s,a,l,r;return{width:t.width||(s=o(e,"border-left-width"),a=o(e,"border-right-width"),e.clientWidth+s+a),height:t.height||(l=o(e,"border-top-width"),r=o(e,"border-bottom-width"),e.clientHeight+l+r)}}function d(e){return new Promise((t,s)=>{let a=new Image;a.onload=()=>{a.decode().then(()=>{requestAnimationFrame(()=>t(a))})},a.onerror=s,a.crossOrigin="anonymous",a.decoding="async",a.src=e})}async function h(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function u(e,t,s){let a="http://www.w3.org/2000/svg",l=document.createElementNS(a,"svg"),r=document.createElementNS(a,"foreignObject");return l.setAttribute("width",`${t}`),l.setAttribute("height",`${s}`),l.setAttribute("viewBox",`0 0 ${t} ${s}`),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("x","0"),r.setAttribute("y","0"),r.setAttribute("externalResourcesRequired","true"),l.appendChild(r),r.appendChild(e),h(l)}let m=(e,t)=>{if(e instanceof t)return!0;let s=Object.getPrototypeOf(e);return null!==s&&(s.constructor.name===t.name||m(s,t))};function x(e,t,s,a){let r,n,o,c=window.getComputedStyle(e,s),d=c.getPropertyValue("content");if(""===d||"none"===d)return;let h=l();try{t.className=`${t.className} ${h}`}catch(e){return}let u=document.createElement("style");u.appendChild((r=`.${h}:${s}`,o=c.cssText?(n=c.getPropertyValue("content"),`${c.cssText} content: '${n.replace(/'|"/g,"")}';`):i(a).map(e=>{let t=c.getPropertyValue(e),s=c.getPropertyPriority(e);return`${e}: ${t}${s?" !important":""};`}).join(" "),document.createTextNode(`${r}{${o}}`))),t.appendChild(u)}let f="application/font-woff",p="image/jpeg",g={woff:f,woff2:f,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:p,jpeg:p,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function y(e){let t;return g[((t=/\.([^./]*?)$/g.exec(e))?t[1]:"").toLowerCase()]||""}function b(e){return -1!==e.search(/^(data:)/)}function w(e,t){return`data:${t};base64,${e}`}async function j(e,t,s){let a=await fetch(e,t);if(404===a.status)throw Error(`Resource "${a.url}" not found`);let l=await a.blob();return new Promise((e,t)=>{let r=new FileReader;r.onerror=t,r.onloadend=()=>{try{e(s({res:a,result:r.result}))}catch(e){t(e)}},r.readAsDataURL(l)})}let N={};async function v(e,t,s){var a,l,r;let n,i,o=(a=e,l=t,r=s.includeQueryParams,i=a.replace(/\?.*/,""),r&&(i=a),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),l?`[${l}]${i}`:i);if(null!=N[o])return N[o];s.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());try{let a=await j(e,s.fetchRequestInit,({res:e,result:s})=>(t||(t=e.headers.get("Content-Type")||""),s.split(/,/)[1]));n=w(a,t)}catch(a){n=s.imagePlaceholder||"";let t=`Failed to fetch resource: ${e}`;a&&(t="string"==typeof a?a:a.message),t&&console.warn(t)}return N[o]=n,n}async function k(e){let t=e.toDataURL();return"data:,"===t?e.cloneNode(!1):d(t)}async function C(e,t){if(e.currentSrc){let t=document.createElement("canvas"),s=t.getContext("2d");return t.width=e.clientWidth,t.height=e.clientHeight,null==s||s.drawImage(e,0,0,t.width,t.height),d(t.toDataURL())}let s=e.poster,a=y(s);return d(await v(s,a,t))}async function S(e,t){var s;try{if(null==(s=null==e?void 0:e.contentDocument)?void 0:s.body)return await A(e.contentDocument.body,t,!0)}catch(e){}return e.cloneNode(!1)}async function M(e,t){return m(e,HTMLCanvasElement)?k(e):m(e,HTMLVideoElement)?C(e,t):m(e,HTMLIFrameElement)?S(e,t):e.cloneNode(P(e))}let P=e=>null!=e.tagName&&"SVG"===e.tagName.toUpperCase();async function D(e,t,s){var a,l;if(P(t))return t;let n=[];return 0===(n=null!=e.tagName&&"SLOT"===e.tagName.toUpperCase()&&e.assignedNodes?r(e.assignedNodes()):m(e,HTMLIFrameElement)&&(null==(a=e.contentDocument)?void 0:a.body)?r(e.contentDocument.body.childNodes):r((null!=(l=e.shadowRoot)?l:e).childNodes)).length||m(e,HTMLVideoElement)||await n.reduce((e,a)=>e.then(()=>A(a,s)).then(e=>{e&&t.appendChild(e)}),Promise.resolve()),t}async function E(e,t){let s=e.querySelectorAll?e.querySelectorAll("use"):[];if(0===s.length)return e;let a={};for(let l=0;l<s.length;l++){let r=s[l].getAttribute("xlink:href");if(r){let s=e.querySelector(r),l=document.querySelector(r);s||!l||a[r]||(a[r]=await A(l,t,!0))}}let l=Object.values(a);if(l.length){let t="http://www.w3.org/1999/xhtml",s=document.createElementNS(t,"svg");s.setAttribute("xmlns",t),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";let a=document.createElementNS(t,"defs");s.appendChild(a);for(let e=0;e<l.length;e++)a.appendChild(l[e]);e.appendChild(s)}return e}async function A(e,t,s){return s||!t.filter||t.filter(e)?Promise.resolve(e).then(e=>M(e,t)).then(s=>D(e,s,t)).then(s=>(function(e,t,s){if(m(t,Element)&&(!function(e,t,s){let a=t.style;if(!a)return;let l=window.getComputedStyle(e);l.cssText?(a.cssText=l.cssText,a.transformOrigin=l.transformOrigin):i(s).forEach(s=>{let r=l.getPropertyValue(s);if("font-size"===s&&r.endsWith("px")){let e=Math.floor(parseFloat(r.substring(0,r.length-2)))-.1;r=`${e}px`}m(e,HTMLIFrameElement)&&"display"===s&&"inline"===r&&(r="block"),"d"===s&&t.getAttribute("d")&&(r=`path(${t.getAttribute("d")})`),a.setProperty(s,r,l.getPropertyPriority(s))})}(e,t,s),x(e,t,":before",s),x(e,t,":after",s),m(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),m(e,HTMLInputElement)&&t.setAttribute("value",e.value),m(e,HTMLSelectElement))){let s=Array.from(t.children).find(t=>e.value===t.getAttribute("value"));s&&s.setAttribute("selected","")}return t})(e,s,t)).then(e=>E(e,t)):null}let $=/url\((['"]?)([^'"]+?)\1\)/g,T=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,R=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;async function I(e,t,s,a,l){try{let r,n,i=s?function(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;let s=document.implementation.createHTMLDocument(),a=s.createElement("base"),l=s.createElement("a");return s.head.appendChild(a),s.body.appendChild(l),t&&(a.href=t),l.href=e,l.href}(t,s):t,o=y(t);if(l){let e=await l(i);r=w(e,o)}else r=await v(i,o,a);return e.replace((n=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1"),RegExp(`(url\\(['"]?)(${n})(['"]?\\))`,"g")),`$1${r}$3`)}catch(e){}return e}function L(e){return -1!==e.search($)}async function H(e,t,s){let a;if(!L(e))return e;let l=function(e,{preferredFontFormat:t}){return t?e.replace(R,e=>{for(;;){let[s,,a]=T.exec(e)||[];if(!a)return"";if(a===t)return`src: ${s};`}}):e}(e,s);return(a=[],l.replace($,(e,t,s)=>(a.push(s),e)),a.filter(e=>!b(e))).reduce((e,a)=>e.then(e=>I(e,a,t,s)),Promise.resolve(l))}async function q(e,t,s){var a;let l=null==(a=t.style)?void 0:a.getPropertyValue(e);if(l){let a=await H(l,null,s);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function F(e,t){await q("background",e,t)||await q("background-image",e,t),await q("mask",e,t)||await q("-webkit-mask",e,t)||await q("mask-image",e,t)||await q("-webkit-mask-image",e,t)}async function O(e,t){let s=m(e,HTMLImageElement);if(!(s&&!b(e.src))&&!(m(e,SVGImageElement)&&!b(e.href.baseVal)))return;let a=s?e.src:e.href.baseVal,l=await v(a,y(a),t);await new Promise((a,r)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...e)=>{try{a(t.onImageErrorHandler(...e))}catch(e){r(e)}}:r,e.decode&&(e.decode=a),"lazy"===e.loading&&(e.loading="eager"),s?(e.srcset="",e.src=l):e.href.baseVal=l})}async function B(e,t){let s=r(e.childNodes).map(e=>U(e,t));await Promise.all(s).then(()=>e)}async function U(e,t){m(e,Element)&&(await F(e,t),await O(e,t),await B(e,t))}let V={};async function z(e){let t=V[e];if(null!=t)return t;let s=await fetch(e);return t={url:e,cssText:await s.text()},V[e]=t,t}async function W(e,t){let s=e.cssText,a=/url\(["']?([^"')]+)["']?\)/g;return Promise.all((s.match(/url\([^)]+\)/g)||[]).map(async l=>{let r=l.replace(a,"$1");return r.startsWith("https://")||(r=new URL(r,e.url).href),j(r,t.fetchRequestInit,({result:e})=>(s=s.replace(l,`url(${e})`),[l,e]))})).then(()=>s)}function G(e){if(null==e)return[];let t=[],s=e.replace(/(\/\*[\s\S]*?\*\/)/gi,""),a=RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){let e=a.exec(s);if(null===e)break;t.push(e[0])}s=s.replace(a,"");let l=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,r=RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let e=l.exec(s);if(null===e){if(null===(e=r.exec(s)))break;l.lastIndex=r.lastIndex}else r.lastIndex=l.lastIndex;t.push(e[0])}return t}async function J(e,t){let s=[],a=[];return e.forEach(s=>{if("cssRules"in s)try{r(s.cssRules||[]).forEach((e,l)=>{if(e.type===CSSRule.IMPORT_RULE){let r=l+1,n=e.href,i=z(n).then(e=>W(e,t)).then(e=>G(e).forEach(e=>{try{s.insertRule(e,e.startsWith("@import")?r+=1:s.cssRules.length)}catch(t){console.error("Error inserting rule from remote css",{rule:e,error:t})}})).catch(e=>{console.error("Error loading remote css",e.toString())});a.push(i)}})}catch(r){let l=e.find(e=>null==e.href)||document.styleSheets[0];null!=s.href&&a.push(z(s.href).then(e=>W(e,t)).then(e=>G(e).forEach(e=>{l.insertRule(e,l.cssRules.length)})).catch(e=>{console.error("Error loading remote stylesheet",e)})),console.error("Error inlining remote css file",r)}}),Promise.all(a).then(()=>(e.forEach(e=>{if("cssRules"in e)try{r(e.cssRules||[]).forEach(e=>{s.push(e)})}catch(t){console.error(`Error while reading CSS rules from ${e.href}`,t)}}),s))}async function K(e,t){if(null==e.ownerDocument)throw Error("Provided element is not within a Document");let s=r(e.ownerDocument.styleSheets);return(await J(s,t)).filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>L(e.style.getPropertyValue("src")))}function X(e){return e.trim().replace(/["']/g,"")}async function _(e,t){let s,a=await K(e,t),l=(s=new Set,!function e(t){(t.style.fontFamily||getComputedStyle(t).fontFamily).split(",").forEach(e=>{s.add(X(e))}),Array.from(t.children).forEach(t=>{t instanceof HTMLElement&&e(t)})}(e),s);return(await Promise.all(a.filter(e=>l.has(X(e.style.fontFamily))).map(e=>{let s=e.parentStyleSheet?e.parentStyleSheet.href:null;return H(e.cssText,s,t)}))).join("\n")}async function Q(e,t){let s=null!=t.fontEmbedCSS?t.fontEmbedCSS:t.skipFonts?null:await _(e,t);if(s){let t=document.createElement("style"),a=document.createTextNode(s);t.appendChild(a),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}}async function Y(e,t={}){let{width:s,height:a}=c(e,t),l=await A(e,t,!0);return await Q(l,t),await U(l,t),!function(e,t){let{style:s}=e;t.backgroundColor&&(s.backgroundColor=t.backgroundColor),t.width&&(s.width=`${t.width}px`),t.height&&(s.height=`${t.height}px`);let a=t.style;null!=a&&Object.keys(a).forEach(e=>{s[e]=a[e]})}(l,t),await u(l,s,a)}async function Z(e,t={}){let{width:s,height:l}=c(e,t),r=await Y(e,t),n=await d(r),i=document.createElement("canvas"),o=i.getContext("2d"),h=t.pixelRatio||function(){let e,t;try{t=a.default}catch(e){}let s=t&&t.env?t.env.devicePixelRatio:null;return s&&Number.isNaN(e=parseInt(s,10))&&(e=1),e||window.devicePixelRatio||1}(),u=t.canvasWidth||s,m=t.canvasHeight||l;return i.width=u*h,i.height=m*h,!t.skipAutoScale&&(i.width>16384||i.height>16384)&&(i.width>16384&&i.height>16384?i.width>i.height?(i.height*=16384/i.width,i.width=16384):(i.width*=16384/i.height,i.height=16384):i.width>16384?(i.height*=16384/i.width,i.width=16384):(i.width*=16384/i.height,i.height=16384)),i.style.width=`${u}`,i.style.height=`${m}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,i.width,i.height)),o.drawImage(n,0,0,i.width,i.height),i}async function ee(e,t={}){return(await Z(e,t)).toDataURL("image/jpeg",t.quality||1)}e.s(["toJpeg",()=>ee],66459)},63279,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(69638);let l=(0,e.i(75254).default)("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),r=(0,s.forwardRef)(({bookingId:e,roomName:s,checkIn:r,checkOut:n,guestName:i,totalPrice:o,className:c},d)=>(0,t.jsxs)("div",{ref:d,id:`ticket-${e}`,className:`bg-slate-900 rounded-3xl p-6 text-white relative overflow-hidden mx-auto max-w-sm shadow-2xl ${c||""}`,children:[(0,t.jsx)("div",{className:"absolute -left-3 top-1/2 -translate-y-1/2 w-6 h-6 bg-white rounded-full"}),(0,t.jsx)("div",{className:"absolute -right-3 top-1/2 -translate-y-1/2 w-6 h-6 bg-white rounded-full"}),(0,t.jsx)("div",{className:"absolute left-2 right-2 top-1/2 -translate-y-1/2 border-t-2 border-dashed border-white/20"}),(0,t.jsxs)("div",{className:"relative z-10 pb-8 border-b border-white/10 mb-8",children:[(0,t.jsx)("div",{className:"inline-flex p-3 rounded-full bg-green-500/20 mb-4",children:(0,t.jsx)(a.CheckCircle,{className:"w-8 h-8 text-green-400"})}),(0,t.jsx)("h3",{className:"text-2xl font-serif font-bold mb-1",children:"Booking Confirmed"}),(0,t.jsx)("p",{className:"text-white/60 text-sm",children:"Thank you for your booking!"})]}),(0,t.jsxs)("div",{className:"relative z-10 text-left space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-end",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white/40 text-[10px] font-bold uppercase tracking-widest mb-1",children:"Booking ID"}),(0,t.jsx)("p",{className:"font-mono text-xl font-bold tracking-wider text-orange-400",children:e})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-white/40 text-[10px] font-bold uppercase tracking-widest mb-1",children:"Room"}),(0,t.jsx)("p",{className:"font-medium text-sm text-white/90",children:s})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white/40 text-[10px] font-bold uppercase tracking-widest mb-1",children:"Check In"}),(0,t.jsx)("p",{className:"font-medium text-sm",children:r}),(0,t.jsx)("p",{className:"text-white/40 text-xs",children:"12:00 PM"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-white/40 text-[10px] font-bold uppercase tracking-widest mb-1",children:"Check Out"}),(0,t.jsx)("p",{className:"font-medium text-sm",children:n}),(0,t.jsx)("p",{className:"text-white/40 text-xs",children:"11:00 AM"})]})]}),(i||o)&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[i&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white/40 text-[10px] font-bold uppercase tracking-widest mb-1",children:"Guest"}),(0,t.jsx)("p",{className:"font-medium text-sm text-white/90 truncate",children:i})]}),o&&(0,t.jsxs)("div",{className:i?"text-right":"",children:[(0,t.jsx)("p",{className:"text-white/40 text-[10px] font-bold uppercase tracking-widest mb-1",children:"Total Paid"}),(0,t.jsx)("p",{className:"font-medium text-sm text-white/90",children:"number"==typeof o?`₹${o.toLocaleString()}`:o})]})]}),(0,t.jsx)("div",{className:"pt-6 mt-4 flex justify-between items-center border-t border-white/10",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-white rounded-lg",children:(0,t.jsx)(l,{className:"w-8 h-8 text-slate-900"})}),(0,t.jsxs)("div",{className:"text-[10px] uppercase tracking-wide text-white/40 font-medium leading-tight",children:[(0,t.jsx)("p",{children:"Scan at hotel"}),(0,t.jsx)("p",{children:"reception"})]})]})})]})]}));r.displayName="TicketCard",e.s(["TicketCard",0,r],63279)},63364,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(46932),l=e.i(88653),r=e.i(37727),n=e.i(87316),i=e.i(84614),o=e.i(43432),c=e.i(61911),d=e.i(99023),h=e.i(7233),u=e.i(31278),m=e.i(69638),x=e.i(72520),f=e.i(75254);let p=(0,f.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),g=(0,f.default)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var y=e.i(40160),b=e.i(66459),w=e.i(63279),j=e.i(19455),N=e.i(59141);e.i(36180);var v=e.i(98925),k=e.i(32341),C=e.i(55326),S=e.i(37822),M=e.i(27766),P=e.i(45919),D=e.i(75157);function E({room:e,isOpen:f,onClose:E}){let{user:A}=(0,k.useAuth)(),[$,T]=(0,s.useState)(!1),[R,I]=(0,s.useState)(void 0),[L,H]=(0,s.useState)(void 0),[q,F]=(0,s.useState)(1),[O,B]=(0,s.useState)(0),[U,V]=(0,s.useState)(1),[z,W]=(0,s.useState)(""),[G,J]=(0,s.useState)(""),[K,X]=(0,s.useState)(0),[_,Q]=(0,s.useState)({}),[Y,Z]=(0,s.useState)(10),[ee,et]=(0,s.useState)(1),[es,ea]=(0,s.useState)("card"),[el,er]=(0,s.useState)(!1),[en,ei]=(0,s.useState)(""),[eo,ec]=(0,s.useState)(""),[ed,eh]=(0,s.useState)(!1),eu=(0,s.useRef)(null);(0,s.useEffect)(()=>{f&&(et(1),ec(""),ei(""),eh(!1),ea("card"))},[f]),(0,s.useEffect)(()=>{f&&e&&(async()=>{try{let t=e.totalStock||10;Z(t);let s=await (0,v.getDocs)((0,v.collection)(N.db,"rooms",e.id.toString(),"availability")),a={};s.forEach(e=>{a[e.id]=e.data().bookedCount||0}),Q(a)}catch(e){console.error("Error fetching room availability:",e)}})()},[f,e]),(0,s.useEffect)(()=>{if(R&&L){let e=Math.ceil(Math.abs(L.getTime()-R.getTime())/864e5);X(e>0?e:0)}else X(0)},[R,L]);let em=e=>{let t=e?q+1:Math.max(1,q-1);F(t);let s=Math.ceil(t/3);U<s&&V(s)},ex=e=>parseInt(e.replace(/[^0-9]/g,""))||0,ef=e?ex(e.price):0,ep=ef*U*(K||1),eg=0,ey=Math.round(ep*(eg=ef<=1e3?0:ef<=7500?.12:.18)),eb=ep+ey;if(!f||!e)return null;let ew=async()=>{let t,s;er(!0);let a=(t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=Array.from({length:6},()=>t[Math.floor(Math.random()*t.length)]).join(""),`BK-${s}`);await new Promise(e=>setTimeout(e,2e3));try{if(A){let e=(0,v.doc)(N.db,"users",A.uid);await (0,v.setDoc)(e,{email:A.email,lastBookingAt:(0,v.serverTimestamp)(),bookingsCount:(0,v.increment)(1),totalSpend:(0,v.increment)(eb)},{merge:!0})}if(await (0,v.setDoc)((0,v.doc)(N.db,"bookings",a),{bookingId:a,userId:A?.uid,userEmail:A?.email,guest:{userId:A?.uid,name:z,email:A?.email,phone:G},stay:{checkIn:R?(0,P.format)(R,"yyyy-MM-dd"):"",checkOut:L?(0,P.format)(L,"yyyy-MM-dd"):"",totalNights:K||1,adults:q,children:O,roomsCount:U},room:{name:e.name,image:e.image,basePricePerNight:ex(e.price)},payment:{method:es,baseAmount:ep,taxAmount:ey,totalAmount:eb,currency:"INR",status:"paid"},status:"confirmed",createdAt:(0,v.serverTimestamp)()}),e&&e.id&&R&&L){let t=((e,t)=>{let s=new Date(e.getTime()),a=[];for(;s<t;)a.push((0,P.format)(s,"yyyy-MM-dd")),s.setDate(s.getDate()+1);return a})(R,L).map(t=>{let s=(0,v.doc)(N.db,"rooms",e.id.toString(),"availability",t);return(0,v.setDoc)(s,{bookedCount:(0,v.increment)(U)},{merge:!0})});await Promise.all(t)}ec(a),et(3)}catch(e){console.error("Error adding booking: ",e),ei("Payment failed. Please try again.")}finally{er(!1)}},ej=async()=>{let e=eu.current||document.getElementById(`ticket-${eo}`);if(!e){console.error("Ticket element not found"),alert("Error: Ticket element not found!");return}eh(!0);try{let t=e.offsetWidth,s=e.offsetHeight,a=await (0,b.toJpeg)(e,{quality:.95,backgroundColor:"#0f172a",width:t,height:s,style:{margin:"0",transform:"none",borderRadius:"1.5rem"}}),l=document.createElement("a");l.download=`Booking-${eo}.jpg`,l.href=a,document.body.appendChild(l),l.click(),document.body.removeChild(l)}catch(e){console.error("Download failed",e),alert(`Download failed: ${e.message||e}`)}finally{eh(!1)}};return(0,t.jsx)(l.AnimatePresence,{children:f&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:3===ee?E:void 0,className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm"}),(0,t.jsx)(a.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:(0,t.jsxs)("div",{className:"bg-white w-full max-w-lg rounded-3xl shadow-2xl pointer-events-auto overflow-hidden max-h-[90vh] flex flex-col",children:[3!==ee&&(0,t.jsxs)("div",{className:"bg-slate-900 p-6 flex items-start justify-between shrink-0",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-serif font-bold text-white mb-1",children:1===ee?"Confirm Details":"Payment (Demo)"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:1===ee?"Step 1 of 2":"Test Mode - No real payment required"})]}),(0,t.jsx)("button",{onClick:E,className:"p-2 bg-white/10 hover:bg-white/20 rounded-full text-white transition-colors",children:(0,t.jsx)(r.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:[1===ee&&(0,t.jsxs)("form",{id:"booking-form",onSubmit:e=>{if(e.preventDefault(),ei(""),!A)return void T(!0);if(1===ee){if(!R||!L||!z||!G)return void ei("Please fill in all details");if(R&&L){let e=new Date(R),t=new Date(L),s=new Date(e);for(;s<t;){let e=Math.max(0,Y-(_[(0,P.format)(s,"yyyy-MM-dd")]||0));if(e<U)return void ei(`Only ${e} room${1!==e?"s":""} available on ${(0,P.format)(s,"dd MMM yyyy")}. You requested ${U}.`);s.setDate(s.getDate()+1)}}et(2)}else 2===ee&&ew()},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1.5 ",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Check In"}),(0,t.jsxs)(S.Popover,{children:[(0,t.jsx)(S.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)("button",{className:(0,D.cn)("w-full pl-9 pr-4 py-2.5 bg-slate-50 rounded-xl text-sm font-medium outline-none text-left flex items-center gap-2",!R&&"text-slate-500"),children:[(0,t.jsx)(n.Calendar,{className:"w-4 h-4 text-slate-400 absolute left-3"}),(0,t.jsx)("span",{className:"ml-5",children:R?(0,P.format)(R,"dd MMM yyyy"):"Select Date"})]})}),(0,t.jsx)(S.PopoverContent,{className:"w-auto p-0",align:"start",children:(0,t.jsx)(M.Calendar,{mode:"single",selected:R,onSelect:I,disabled:e=>{let t=e<new Date(new Date().setHours(0,0,0,0)),s=Y-(_[(0,P.format)(e,"yyyy-MM-dd")]||0)<=0;return t||s},formatters:{formatDay:e=>{let s=Math.max(0,Y-(_[(0,P.format)(e,"yyyy-MM-dd")]||0)),a=e<new Date(new Date().setHours(0,0,0,0));return a?(0,t.jsx)("div",{className:"opacity-50",children:e.getDate()}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center relative py-1",children:[(0,t.jsx)("span",{children:e.getDate()}),!a&&(0,t.jsx)("span",{className:(0,D.cn)("text-[9px] font-bold leading-none mt-0.5 whitespace-nowrap",0===s?"text-red-500 line-through":"text-green-600"),children:0===s?"Full":`${s} left`})]})}}})})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Check Out"}),(0,t.jsxs)(S.Popover,{children:[(0,t.jsx)(S.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)("button",{className:(0,D.cn)("w-full pl-9 pr-4 py-2.5 bg-slate-50 rounded-xl text-sm font-medium outline-none text-left flex items-center gap-2",!L&&"text-slate-500"),children:[(0,t.jsx)(n.Calendar,{className:"w-4 h-4 text-slate-400 absolute left-3"}),(0,t.jsx)("span",{className:"ml-5",children:L?(0,P.format)(L,"dd MMM yyyy"):"Select Date"})]})}),(0,t.jsx)(S.PopoverContent,{className:"w-auto p-0",align:"start",children:(0,t.jsx)(M.Calendar,{mode:"single",selected:L,onSelect:H,disabled:e=>{let t=e<(R||new Date(new Date().setHours(0,0,0,0))),s=Y-(_[(0,P.format)(e,"yyyy-MM-dd")]||0)<=0;return t||s},formatters:{formatDay:e=>{let s=Math.max(0,Y-(_[(0,P.format)(e,"yyyy-MM-dd")]||0)),a=e<new Date(new Date().setHours(0,0,0,0));return a?(0,t.jsx)("div",{className:"opacity-50",children:e.getDate()}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center relative py-1",children:[(0,t.jsx)("span",{children:e.getDate()}),!a&&(0,t.jsx)("span",{className:(0,D.cn)("text-[9px] font-bold leading-none mt-0.5 whitespace-nowrap",0===s?"text-red-500":"text-green-600"),children:0===s?"Full":`${s} left`})]})}}})})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-500 px-1",children:[(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("span",{children:["Check-in: ",(0,t.jsx)("strong",{className:"text-slate-900",children:"12:00 PM"})]}),(0,t.jsxs)("span",{children:["Check-out: ",(0,t.jsx)("strong",{className:"text-slate-900",children:"11:00 AM"})]})]}),K>0&&(0,t.jsxs)("span",{className:"bg-orange-50 text-orange-700 px-2 py-0.5 rounded-full font-bold",children:[K," Night",K>1?"s":""]})]}),(0,t.jsxs)("div",{className:"space-y-3 bg-slate-50 p-4 rounded-xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-white flex items-center justify-center text-slate-600 shadow-sm",children:(0,t.jsx)(c.Users,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-bold text-slate-900",children:"Adults"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Max 3 per room"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-white px-2 py-1 rounded-lg border border-slate-200",children:[(0,t.jsx)("button",{type:"button",onClick:()=>em(!1),className:"w-6 h-6 flex items-center justify-center text-slate-400 hover:text-slate-600",children:(0,t.jsx)(d.Minus,{className:"w-3 h-3"})}),(0,t.jsx)("span",{className:"text-sm font-bold w-4 text-center",children:q}),(0,t.jsx)("button",{type:"button",onClick:()=>em(!0),className:"w-6 h-6 flex items-center justify-center text-slate-400 hover:text-slate-600",children:(0,t.jsx)(h.Plus,{className:"w-3 h-3"})})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-white flex items-center justify-center text-slate-600 shadow-sm",children:(0,t.jsx)(c.Users,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-bold text-slate-900",children:"Children"}),(0,t.jsx)("p",{className:"text-xs text-orange-600",children:"Under 5 years allowed"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-white px-2 py-1 rounded-lg border border-slate-200",children:[(0,t.jsx)("button",{type:"button",onClick:()=>B(Math.max(0,O-1)),className:"w-6 h-6 flex items-center justify-center text-slate-400 hover:text-slate-600",children:(0,t.jsx)(d.Minus,{className:"w-3 h-3"})}),(0,t.jsx)("span",{className:"text-sm font-bold w-4 text-center",children:O}),(0,t.jsx)("button",{type:"button",onClick:()=>B(O+1),className:"w-6 h-6 flex items-center justify-center text-slate-400 hover:text-slate-600",children:(0,t.jsx)(h.Plus,{className:"w-3 h-3"})})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-slate-200/60",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-bold text-slate-900",children:"Rooms"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Auto-adjusted based on adults"})]})}),(0,t.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-white px-2 py-1 rounded-lg border border-slate-200",children:[(0,t.jsx)("button",{type:"button",onClick:()=>V(Math.max(1,U-1)),className:"w-6 h-6 flex items-center justify-center text-slate-400 hover:text-slate-600",children:(0,t.jsx)(d.Minus,{className:"w-3 h-3"})}),(0,t.jsx)("span",{className:"text-sm font-bold w-4 text-center",children:U}),(0,t.jsx)("button",{type:"button",onClick:()=>V(U+1),className:"w-6 h-6 flex items-center justify-center text-slate-400 hover:text-slate-600",children:(0,t.jsx)(h.Plus,{className:"w-3 h-3"})})]}),(()=>{if(R&&L){let e=Y,s=new Date(R),a=new Date(L);for(;s<a;)e=Math.min(e,Math.max(0,Y-(_[(0,P.format)(s,"yyyy-MM-dd")]||0))),s.setDate(s.getDate()+1);if(U>e)return(0,t.jsxs)("span",{className:"text-[10px] text-red-500 font-bold",children:["Only ",e," available"]})}return null})()]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Full Name"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(i.User,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",required:!0,placeholder:"Enter your full name",value:z,onChange:e=>W(e.target.value),className:"w-full pl-9 pr-4 py-3 bg-slate-50 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-orange-500/20"})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Phone Number"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(o.Phone,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"tel",required:!0,placeholder:"+91 98765 43210",value:G,onChange:e=>J(e.target.value),className:"w-full pl-9 pr-4 py-3 bg-slate-50 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-orange-500/20"})]})]})]}),(0,t.jsxs)("div",{className:"bg-orange-50 border border-orange-100 rounded-xl p-4",children:[(0,t.jsx)("h4",{className:"text-xs font-bold text-orange-800 uppercase mb-2",children:"Important Requirements:"}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsxs)("li",{className:"flex items-start gap-2 text-xs text-orange-900/80",children:[(0,t.jsx)("span",{className:"w-1 h-1 rounded-full bg-orange-600 mt-1.5"}),"Indian Nationals Only."]}),(0,t.jsxs)("li",{className:"flex items-start gap-2 text-xs text-orange-900/80",children:[(0,t.jsx)("span",{className:"w-1 h-1 rounded-full bg-orange-600 mt-1.5"}),"Valid Govt ID required. ",(0,t.jsx)("span",{className:"font-bold",children:"PAN Card not accepted."})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-50 p-4 rounded-xl space-y-3",children:[(0,t.jsx)("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Payment Details"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between text-slate-600",children:[(0,t.jsxs)("span",{children:["Room Charges (",U," Room x ",K||1," Night)"]}),(0,t.jsxs)("span",{children:["₹",ep.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-slate-600",children:[(0,t.jsxs)("span",{children:["GST (",100*eg,"%)"]}),(0,t.jsxs)("span",{children:["₹",ey.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"pt-2 border-t border-slate-200 flex justify-between font-bold text-slate-900 text-base",children:[(0,t.jsx)("span",{children:"Total Amount"}),(0,t.jsxs)("span",{children:["₹",eb.toLocaleString()]})]})]})]})]}),2===ee&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-slate-50 p-4 rounded-xl space-y-3",children:[(0,t.jsx)("h3",{className:"font-bold text-slate-900",children:"Order Summary"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between text-slate-600",children:[(0,t.jsxs)("span",{children:["Room Charges (",U," x ",K," nights)"]}),(0,t.jsxs)("span",{children:["₹",ep.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-slate-600",children:[(0,t.jsxs)("span",{children:["GST (",100*eg,"%)"]}),(0,t.jsxs)("span",{children:["₹",ey.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"pt-2 border-t border-slate-200 flex justify-between font-bold text-slate-900 text-lg",children:[(0,t.jsx)("span",{children:"To Pay"}),(0,t.jsxs)("span",{children:["₹",eb.toLocaleString()]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"font-bold text-slate-900 text-sm uppercase tracking-wider",children:"Select Payment Method"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,t.jsxs)("button",{onClick:()=>ea("card"),className:`flex items-center gap-4 p-4 rounded-xl border-2 transition-all ${"card"===es?"border-orange-500 bg-orange-50/50":"border-slate-100 hover:border-slate-200"}`,children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${"card"===es?"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-500"}`,children:(0,t.jsx)(p,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("p",{className:"font-bold text-slate-900",children:"Credit / Debit Card"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Visa, Mastercard, RuPay"})]}),"card"===es&&(0,t.jsx)(m.CheckCircle,{className:"w-5 h-5 text-orange-500 ml-auto"})]}),(0,t.jsxs)("button",{onClick:()=>ea("upi"),className:`flex items-center gap-4 p-4 rounded-xl border-2 transition-all ${"upi"===es?"border-orange-500 bg-orange-50/50":"border-slate-100 hover:border-slate-200"}`,children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${"upi"===es?"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-500"}`,children:(0,t.jsx)(g,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("p",{className:"font-bold text-slate-900",children:"UPI"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"GPay, PhonePe, Paytm"})]}),"upi"===es&&(0,t.jsx)(m.CheckCircle,{className:"w-5 h-5 text-orange-500 ml-auto"})]})]})]})]}),3===ee&&(0,t.jsxs)("div",{className:"text-center py-2",children:[(0,t.jsx)(w.TicketCard,{ref:eu,bookingId:eo,roomName:e.name,checkIn:R?(0,P.format)(R,"dd MMM yyyy"):"",checkOut:L?(0,P.format)(L,"dd MMM yyyy"):"",guestName:z,totalPrice:eb,className:"mb-6"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 mb-6",children:"A confirmation email has been sent to your email address."}),(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)(j.Button,{onClick:ej,disabled:ed,className:"w-full bg-slate-100 hover:bg-slate-200 text-slate-900 h-12 rounded-xl text-base font-bold transition-all flex items-center justify-center gap-2",children:[ed?(0,t.jsx)(u.Loader2,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(y.Download,{className:"w-4 h-4"}),ed?"Downloading...":"Download Ticket"]}),(0,t.jsx)(j.Button,{onClick:async()=>{if(confirm("Are you sure you want to cancel this booking?")){er(!0);try{if(await (0,v.updateDoc)((0,v.doc)(N.db,"bookings",eo),{status:"cancelled",cancelledAt:(0,v.serverTimestamp)()}),e&&e.id&&R&&L){let t=((e,t)=>{let s=new Date(e.getTime()),a=[];for(;s<t;)a.push((0,P.format)(s,"yyyy-MM-dd")),s.setDate(s.getDate()+1);return a})(R,L),s=t.map(t=>{let s=(0,v.doc)(N.db,"rooms",e.id.toString(),"availability",t);return(0,v.setDoc)(s,{bookedCount:(0,v.increment)(-U)},{merge:!0})});await Promise.all(s),Q(e=>{let s={...e};return t.forEach(e=>{s[e]&&(s[e]=Math.max(0,s[e]-U))}),s}),alert("Booking cancelled. Availability has been restored."),E()}}catch(e){console.error("Error cancelling booking:",e),ei("Failed to cancel booking")}finally{er(!1)}}},className:"w-full bg-red-50 hover:bg-red-100 text-red-600 h-12 rounded-xl text-base font-bold transition-all",children:"Cancel Booking"}),(0,t.jsx)(j.Button,{onClick:E,className:"w-full bg-slate-900 hover:bg-slate-800 text-white h-12 rounded-xl text-base font-bold transition-all",children:"Close"})]})]}),en&&(0,t.jsx)("div",{className:"bg-red-50 text-red-600 text-sm p-3 rounded-lg mt-4",children:en})]}),3!==ee&&(0,t.jsxs)("div",{className:"p-6 border-t border-slate-100 bg-slate-50 mt-auto",children:[(0,t.jsx)(j.Button,{form:1===ee?"booking-form":void 0,type:1===ee?"submit":"button",onClick:2===ee?ew:void 0,disabled:el||(()=>{if(1===ee&&R&&L){let e=new Date(R),t=new Date(L),s=new Date(e);for(;s<t;){if(Math.max(0,Y-(_[(0,P.format)(s,"yyyy-MM-dd")]||0))<U)return!0;s.setDate(s.getDate()+1)}}return!1})(),className:"w-full bg-slate-900 hover:bg-orange-600 text-white h-12 rounded-xl text-base font-bold shadow-lg shadow-slate-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:el?(0,t.jsx)(u.Loader2,{className:"w-5 h-5 animate-spin"}):1===ee?(0,t.jsxs)(t.Fragment,{children:["Proceed to Payment ",(0,t.jsx)(x.ArrowRight,{className:"w-5 h-5 ml-2"})]}):(0,t.jsxs)(t.Fragment,{children:["Pay ₹",eb.toLocaleString()," ",(0,t.jsx)(x.ArrowRight,{className:"w-5 h-5 ml-2"})]})}),2===ee&&(0,t.jsx)("button",{onClick:()=>et(1),className:"w-full text-center text-slate-500 text-sm hover:text-slate-800 mt-4 font-medium",children:"Back to Details"})]})]})}),(0,t.jsx)(C.AuthModal,{isOpen:$,onClose:()=>T(!1)})]})})}e.s(["BookingModal",()=>E],63364)},8238,e=>{e.n(e.i(63364))}]);